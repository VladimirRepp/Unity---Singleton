# Unity---Singleton
Singleton Pattern for Unity
Просторобезопасная (thread-safe) и ленивая (lazy) реализация шаблона проектирования Singleton для игрового движка Unity.

Этот код предоставляет базовый класс Singleton<T>, от которого можно наследовать любые ваши MonoBehaviour-классы, чтобы превратить их в единственный экземпляр (синглтон) в рамках всей сцены или приложения.

Особенности
===
Потокобезопасность: Корректно работает в многопоточных сценариях. <br/>
Ленивая инициализация: Экземпляр создается только при первом обращении к нему.<br/>
Защита от дубликатов: Автоматически уничтожает повторно создаваемые объекты, предотвращая появление нескольких синглтонов. <br/>
Простота использования: Просто наследуйте ваш класс от Singleton<T> вместо MonoBehaviour. <br/>

Использование
===
1) Скопируйте файл Singleton.cs в свой проект Unity.
2) Создайте новый класс, например, GameManager:
```csharp
public class GameManager : Singleton<GameManager>
{
    protected override void Awake()
    {
        base.Awake(); // Важно вызывать базовый метод первым!
        // Ваша логика инициализации здесь
        // Этот код выполнится только для корректного экземпляра синглтона
    }

    public void Startup()
    {
        // Дополнительные методы инициализации, если нужно
    }

    public void YourMethod()
    {
        // ...
    }
}
```

3) Обращайтесь к экземпляру из любого места кода:
```csharp
public class GameManager : Singleton<GameManager>
{
    protected override void Awake()
    {
        base.Awake(); // Важно вызывать базовый метод первым!
        // Ваша логика инициализации здесь
        // Этот код выполнится только для корректного экземпляра синглтона
    }

    public void Startup()
    {
        // Дополнительные методы инициализации, если нужно
    }

    public void YourMethod()
    {
        // ...
    }
}
```

Важно!
===
1) Всегда вызывайте base.Awake() первым в переопределенном методе Awake(). Это гарантирует, что ваша пользовательская логика инициализации выполнится только для корректного, не уничтоженного экземпляра синглтона.
2) Базовый класс автоматически обрабатывает все проверки на дубликаты и обеспечивает создание единственного экземпляра.
